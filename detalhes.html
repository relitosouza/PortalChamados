<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes do Chamado - Smarapd</title>
    <link rel="stylesheet" href="detalhes.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="header-brand">
                    <div class="header-logo">
                        <svg width="26" height="26" viewBox="0 0 26 26" fill="none">
                            <path d="M3 7h20M3 13h13M3 19h16" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div>
                        <h1>Portal de Chamados</h1>
                        <p class="header-subtitle">Smarapd · Equipe de Campo</p>
                    </div>
                </div>
                <a href="index.html" class="btn-back">
                    <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
                        <path d="M15 10H5M5 10L10 15M5 10L10 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Voltar
                </a>
            </div>
        </div>
    </header>

    <main class="container">
        <div id="loading" class="loading-state">
            <div class="spinner"></div>
            <p>Carregando detalhes do chamado...</p>
        </div>

        <div id="error" class="error-state" style="display: none;">
            <svg width="64" height="64" viewBox="0 0 64 64" fill="none">
                <circle cx="32" cy="32" r="30" stroke="#dc2626" stroke-width="4"/>
                <path d="M32 20V36M32 44V44.02" stroke="#dc2626" stroke-width="4" stroke-linecap="round"/>
            </svg>
            <h2>Chamado não encontrado</h2>
            <p>Não foi possível carregar os detalhes deste chamado.</p>
            <a href="index.html" class="btn-primary">Voltar ao Portal</a>
        </div>

        <div id="detailsContent" style="display: none;">
            <!-- Header do Chamado -->
            <div class="ticket-header">
                <div class="ticket-title-section">
                    <span class="ticket-id" id="ticketId">#0000</span>
                    <h1 id="ticketTitle">Título do Chamado</h1>
                </div>
                <div class="ticket-meta">
                    <span class="status-badge" id="statusBadge">Status</span>
                    <span class="system-badge" id="systemBadge" style="display: none;">Sistema</span>
                </div>
            </div>

            <!-- Informações Principais -->
            <div class="details-grid">
                <div class="detail-card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                            <path d="M3 10H21M16 3V7M8 3V7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3>Data de Abertura</h3>
                        <p id="timestamp">-</p>
                    </div>
                </div>

                <div class="detail-card">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3>Status Atual</h3>
                        <p id="statusText">-</p>
                    </div>
                </div>

                <div class="detail-card" id="systemCard" style="display: none;">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <rect x="4" y="4" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
                            <path d="M9 9H15M9 13H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3>Sistema</h3>
                        <p id="systemText">-</p>
                    </div>
                </div>

                <div class="detail-card" id="priorityCard" style="display: none;">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M12 4L20 8L12 12L4 8L12 4Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                            <path d="M4 12L12 16L20 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                            <path d="M4 16L12 20L20 16" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <div class="card-content">
                        <h3>Prioridade</h3>
                        <p id="priorityText">-</p>
                    </div>
                </div>
            </div>

            <!-- Assunto/Descrição -->
            <div class="section-card">
                <div class="section-header">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15" stroke="currentColor" stroke-width="2"/>
                        <path d="M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z" stroke="currentColor" stroke-width="2"/>
                        <path d="M9 12H15M9 16H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <h2>Descrição do Chamado</h2>
                </div>
                <div class="section-content">
                    <p id="description">Carregando descrição...</p>
                </div>
            </div>

            <!-- Informações Adicionais -->
            <div class="section-card" id="additionalInfo" style="display: none;">
                <div class="section-header">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                        <path d="M12 8V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <h2>Informações Adicionais</h2>
                </div>
                <div class="section-content">
                    <div class="info-grid" id="additionalFields">
                        <!-- Campos adicionais serão inseridos aqui dinamicamente -->
                    </div>
                </div>
            </div>

            <!-- Timeline de Status (se houver histórico) -->
            <div class="section-card" id="timelineSection" style="display: none;">
                <div class="section-header">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <circle cx="12" cy="6" r="2" fill="currentColor"/>
                        <circle cx="12" cy="12" r="2" fill="currentColor"/>
                        <circle cx="12" cy="18" r="2" fill="currentColor"/>
                        <path d="M12 8V10M12 14V16" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    <h2>Histórico</h2>
                </div>
                <div class="section-content">
                    <div class="timeline" id="timeline">
                        <!-- Timeline será inserida aqui -->
                    </div>
                </div>
            </div>

            <!-- Ações -->
            <div class="actions-bar">
                <button class="btn-secondary" onclick="window.print()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M5 7V3H15V7M5 15H3V9H17V15H15M5 11H15V17H5V11Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                    Imprimir
                </button>
                <button class="btn-secondary" onclick="shareTicket()">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <circle cx="15" cy="5" r="2" stroke="currentColor" stroke-width="2"/>
                        <circle cx="5" cy="10" r="2" stroke="currentColor" stroke-width="2"/>
                        <circle cx="15" cy="15" r="2" stroke="currentColor" stroke-width="2"/>
                        <path d="M7 9L13 6M7 11L13 14" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Compartilhar
                </button>
                <a href="index.html" class="btn-primary">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M15 10H5M5 10L10 15M5 10L10 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Voltar ao Portal
                </a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2026 Equipe de Campo SMARAPD - Sistema de Gerenciamento de Chamados</p>
        </div>
    </footer>

    <script src="detalhes.js"></script>
</body>

</html>
